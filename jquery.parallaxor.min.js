/**
 * Parallaxor - v0.10
 * Simple jQuery plugin which allows you to create 
 * beautiful parallax effects for your website
 * https://github.com/alexandrubau/parallaxor
 *
 * Copyright 2014 Alexandru Bau
 * Released under the GNU General Public License
 * http://www.gnu.org/copyleft/gpl.html
 */
(function(c,e,f,a){var g="parallaxor";var b="plugin_"+g;var i={top:0,layers:{}};var d={distance:"100%",direction:"down"};var j={container:g+"-container",layer:g+"-layer"};function h(l,k){var m=this;this.settings=c.extend({},i,k);c.each(this.settings.layers,function(n,o){m.settings.layers[n]=c.extend({},d,o)});this.container=c(l);this.layers=[];this.init()}c.extend(h.prototype,{init:function(){var k=this;this.container.addClass(j.container);c.each(this.settings.layers,function(l,m){c.merge(k.layers,k.container.find(l).data(b+"_layer",m).addClass(j.layer))});c(f).on("scroll",c.proxy(this.onDocumentScroll,this));c(f).on("ready",c.proxy(this.onDocumentReady,this));c(e).on("resize",c.proxy(this.onWindowResize,this))},getDocumentScrollTop:function(){var k=c(f).scrollTop();return k>=0?k:0},onDocumentReady:function(){this.moveLayers()},onDocumentScroll:function(){this.moveLayers()},onWindowResize:function(){this.moveLayers()},moveLayers:function(){var m=this;if(!this.isInVisualRange()){return}if(!this.isAboveTop()){return}var k,l,n;if(this.settings.top===0||this.settings.top){k=this.container.outerHeight(),l=this.getDocumentScrollTop()-this.container.offset().top+parseInt(this.settings.top)}else{k=c(e).height()+this.container.outerHeight(),l=this.getDocumentScrollTop()-this.container.offset().top+c(e).height()}n=(l*100/k);if(n<0||n>100){return}c.each(this.layers,function(r,o){o=c(o);var q=o.data("plugin_"+g+"_layer"),s;if(m.isPercentual(q.distance)){s=parseInt(q.distance)/100*(o.outerHeight()-m.container.outerHeight())}else{s=parseInt(q.distance)}var p;switch(q.direction){case"up":p="translate(0, -"+(n/100*s)+"px)";break;case"left":p="translate(-"+(n/100*s)+"px, 0)";break;case"right":p="translate("+(n/100*s)+"px, 0)";break;default:p="translate(0, "+(n/100*s)+"px)";break}o.css("transform",p)})},isInVisualRange:function(){if(this.container.offset().top+this.container.outerHeight()>=this.getDocumentScrollTop()&&this.getDocumentScrollTop()>=this.container.offset().top-c(e).height()){return true}return false},isPercentual:function(k){return k.slice(-1)=="%"},isAboveTop:function(){return this.getDocumentScrollTop()+parseInt(this.settings.top)>this.container.offset().top}});c.fn[g]=function(k){this.each(function(){if(c.data(this,b)){return true}c.data(this,b,new h(this,k))});return this}})(jQuery,window,document);